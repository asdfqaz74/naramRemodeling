import{j as e}from"./index-BQNV57zS.js";import{a as d,D as c,B as p}from"./danger-circle-B4kTbffn.js";import{u,F as x}from"./Form-DzOMZKS8.js";import{F as m}from"./IdInput-COlT8MiL.js";import{a as g}from"./axios-Cm0UX6qg.js";import{r as h}from"./react-Cu9bd8lq.js";import{u as j}from"./reactRouter-C8XkI_Et.js";import"./reactDom-CkgO_r3j.js";function f({onSubmit:s}){const{register:t,handleSubmit:a,formState:{errors:r}}=u({mode:"onChange"});return e.jsx(e.Fragment,{children:e.jsxs(d,{children:[e.jsxs("div",{className:"titleForm",children:[e.jsx("h2",{children:"아이디 찾기"}),e.jsx("p",{children:"언제나 고객님의 만족을 추구합니다."})]}),e.jsxs("div",{className:"dangerText",children:[e.jsx("img",{src:c,alt:"경고 아이콘"}),e.jsxs("p",{children:["가입 시 입력한 ",e.jsx("span",{children:"이메일 "})," 정보로 회원 아이디를 조회할 수 있습니다."," "]})]}),e.jsxs(x,{onSubmit:a(s),children:[e.jsx(m,{label:"이름",id:"name",type:"text",error:r.name?r.name.message:"",register:t("name",{required:"이름은 필수 입력입니다."})}),e.jsx(m,{label:"이메일",id:"email",type:"email",error:r.email?r.email.message:"",register:t("email",{required:"이메일은 필수 입력입니다."})}),e.jsx(p,{styledType:"login",type:"submit",children:"확인"})]})]})})}function E(){const[s,t]=h.useState(""),a=j(),r=async l=>{try{const{name:i,email:n}=l;console.log("name",i),console.log("email",n);const o=await g.post("https://ip:10000/user/findId",{name:i,email:n});if(o.status===200)t(o.data.userId);else throw new Error("아이디 찾기 실패")}catch{a("/login/NotFound")}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{onSubmit:r}),s&&e.jsxs("p",{children:["찾은 아이디 : ",s]})]})}export{E as default};
